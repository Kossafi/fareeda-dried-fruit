<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏≤‡∏Å‡∏ã‡∏±‡∏û‡∏û‡∏•‡∏≤‡∏¢‡πÄ‡∏≠‡∏≠‡∏£‡πå - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü•≠</text></svg>">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%);
        }
        .supplier-card {
            transition: all 0.3s ease;
            border-left: 4px solid #FFA500;
        }
        .supplier-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .product-item {
            transition: all 0.2s ease;
        }
        .product-item:hover {
            background-color: #fef7e0;
        }
        .cart-item {
            background: linear-gradient(135deg, #fff 0%, #fef7e0 100%);
            border-left: 3px solid #FFA500;
        }
        .modal {
            display: none;
        }
        .modal.active {
            display: flex;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-yellow-50 to-orange-50 min-h-screen">
    <!-- Navigation -->
    <nav class="gradient-bg shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-4">
                    <a href="/" class="text-white hover:text-yellow-200">
                        <i class="fas fa-home text-xl"></i>
                    </a>
                    <h1 class="text-white text-xl font-bold">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏≤‡∏Å‡∏ã‡∏±‡∏û‡∏û‡∏•‡∏≤‡∏¢‡πÄ‡∏≠‡∏≠‡∏£‡πå</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button onclick="viewPurchaseHistory()" class="bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg hover:bg-opacity-30 transition">
                        <i class="fas fa-history mr-2"></i>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
                    </button>
                    <div class="relative">
                        <button onclick="toggleCart()" class="bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg hover:bg-opacity-30 transition">
                            <i class="fas fa-shopping-cart mr-2"></i>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                            <span id="cartCount" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <!-- Suppliers Section -->
        <div class="mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏±‡∏û‡∏û‡∏•‡∏≤‡∏¢‡πÄ‡∏≠‡∏≠‡∏£‡πå</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="suppliersGrid">
                <!-- Supplier Card 1 -->
                <div class="supplier-card bg-white rounded-xl shadow-lg p-6 cursor-pointer" onclick="selectSupplier('supplier1')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mr-4">
                            <i class="fas fa-store text-orange-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥ ‡∏à‡∏≥‡∏Å‡∏±‡∏î</h3>
                            <p class="text-sm text-gray-600">‡∏ú‡∏π‡πâ‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á</p>
                        </div>
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center text-gray-600">
                            <i class="fas fa-phone w-4 mr-2"></i>
                            <span>02-123-4567</span>
                        </div>
                        <div class="flex items-center text-gray-600">
                            <i class="fas fa-envelope w-4 mr-2"></i>
                            <span>info@goldenfruit.co.th</span>
                        </div>
                        <div class="flex items-center text-gray-600">
                            <i class="fas fa-map-marker-alt w-4 mr-2"></i>
                            <span>‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£</span>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:</span>
                            <span class="font-medium text-orange-600">15 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">‡πÄ‡∏£‡∏ó‡∏ï‡∏¥‡πâ‡∏á:</span>
                            <span class="text-yellow-500">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                4.8
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Supplier Card 2 -->
                <div class="supplier-card bg-white rounded-xl shadow-lg p-6 cursor-pointer" onclick="selectSupplier('supplier2')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-4">
                            <i class="fas fa-leaf text-green-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">‡πÄ‡∏ô‡πÄ‡∏à‡∏≠‡∏£‡∏±‡∏• ‡∏ü‡∏£‡∏∏‡πä‡∏ï ‡πÄ‡∏ã‡πá‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå</h3>
                            <p class="text-sm text-gray-600">‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Ñ</p>
                        </div>
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center text-gray-600">
                            <i class="fas fa-phone w-4 mr-2"></i>
                            <span>02-234-5678</span>
                        </div>
                        <div class="flex items-center text-gray-600">
                            <i class="fas fa-envelope w-4 mr-2"></i>
                            <span>sales@naturalfruit.com</span>
                        </div>
                        <div class="flex items-center text-gray-600">
                            <i class="fas fa-map-marker-alt w-4 mr-2"></i>
                            <span>‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà</span>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:</span>
                            <span class="font-medium text-green-600">22 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">‡πÄ‡∏£‡∏ó‡∏ï‡∏¥‡πâ‡∏á:</span>
                            <span class="text-yellow-500">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                                4.5
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Supplier Card 3 -->
                <div class="supplier-card bg-white rounded-xl shadow-lg p-6 cursor-pointer" onclick="selectSupplier('supplier3')">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4">
                            <i class="fas fa-mountain text-blue-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">‡∏î‡∏≠‡∏¢‡∏ú‡∏•‡πÑ‡∏°‡πâ ‡πÄ‡∏ó‡∏£‡∏î‡∏î‡∏¥‡πâ‡∏á</h3>
                            <p class="text-sm text-gray-600">‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠</p>
                        </div>
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center text-gray-600">
                            <i class="fas fa-phone w-4 mr-2"></i>
                            <span>053-345-6789</span>
                        </div>
                        <div class="flex items-center text-gray-600">
                            <i class="fas fa-envelope w-4 mr-2"></i>
                            <span>contact@doifruit.co.th</span>
                        </div>
                        <div class="flex items-center text-gray-600">
                            <i class="fas fa-map-marker-alt w-4 mr-2"></i>
                            <span>‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢</span>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-t">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:</span>
                            <span class="font-medium text-blue-600">18 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">‡πÄ‡∏£‡∏ó‡∏ï‡∏¥‡πâ‡∏á:</span>
                            <span class="text-yellow-500">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                4.9
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Products Section (Hidden by default) -->
        <div id="productsSection" class="hidden">
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏≤‡∏Å <span id="selectedSupplierName">‡∏ã‡∏±‡∏û‡∏û‡∏•‡∏≤‡∏¢‡πÄ‡∏≠‡∏≠‡∏£‡πå</span></h2>
                        <p class="text-gray-600">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</p>
                    </div>
                    <button onclick="backToSuppliers()" class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition">
                        <i class="fas fa-arrow-left mr-2"></i>‡∏Å‡∏•‡∏±‡∏ö
                    </button>
                </div>

                <!-- Search and Filter -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div>
                        <input type="text" id="productSearch" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤..." 
                               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                    </div>
                    <div>
                        <select id="categoryFilter" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                            <option value="">‡∏ó‡∏∏‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</option>
                            <option value="mango">‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á</option>
                            <option value="pineapple">‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á</option>
                            <option value="banana">‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á</option>
                            <option value="mixed">‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏£‡∏ß‡∏°</option>
                        </select>
                    </div>
                    <div>
                        <select id="sortBy" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                            <option value="name">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏≠</option>
                            <option value="price">‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤</option>
                            <option value="popular">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°</option>
                        </select>
                    </div>
                </div>

                <!-- Products Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="productsGrid">
                    <!-- Products will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Shopping Cart Sidebar -->
    <div id="cartSidebar" class="fixed right-0 top-0 h-full w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="p-6 border-b">
            <div class="flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
                <button onclick="toggleCart()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
        </div>
        
        <div class="flex-1 overflow-y-auto p-6">
            <div id="cartItems" class="space-y-4">
                <!-- Cart items will be added here -->
            </div>
        </div>
        
        <div class="border-t p-6">
            <div class="space-y-4">
                <div class="flex justify-between text-lg font-bold">
                    <span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:</span>
                    <span id="cartTotal" class="text-orange-600">‡∏ø0</span>
                </div>
                <button onclick="createPurchaseOrder()" class="w-full bg-orange-500 text-white py-3 rounded-lg hover:bg-orange-600 transition font-medium">
                    <i class="fas fa-file-invoice mr-2"></i>
                    ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
                </button>
            </div>
        </div>
    </div>

    <!-- Purchase Order Modal -->
    <div id="purchaseOrderModal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>
                <button onclick="closePurchaseOrderModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <form id="purchaseOrderForm">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</label>
                        <input type="text" id="poNumber" readonly class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</label>
                        <input type="date" id="orderDate" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                        <input type="date" id="deliveryDate" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</label>
                        <input type="text" id="buyerName" value="‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                    </div>
                </div>

                <div class="mb-6">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full border-collapse border border-gray-300">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="border border-gray-300 px-4 py-2 text-left">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                                    <th class="border border-gray-300 px-4 py-2 text-center">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                                    <th class="border border-gray-300 px-4 py-2 text-center">‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
                                    <th class="border border-gray-300 px-4 py-2 text-right">‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
                                    <th class="border border-gray-300 px-4 py-2 text-right">‡∏£‡∏ß‡∏°</th>
                                </tr>
                            </thead>
                            <tbody id="orderItemsTable">
                                <!-- Order items will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="mb-6">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <div class="grid grid-cols-2 gap-4">
                            <div class="text-right">
                                <div class="text-sm text-gray-600">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:</div>
                                <div class="text-sm text-gray-600">‡∏†‡∏≤‡∏©‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° (7%):</div>
                                <div class="text-lg font-bold text-gray-800">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô:</div>
                            </div>
                            <div class="text-right">
                                <div class="text-sm" id="subtotal">‡∏ø0</div>
                                <div class="text-sm" id="vat">‡∏ø0</div>
                                <div class="text-lg font-bold text-orange-600" id="grandTotal">‡∏ø0</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
                    <textarea id="notes" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°..."></textarea>
                </div>
                
                <div class="flex justify-end space-x-4">
                    <button type="button" onclick="closePurchaseOrderModal()" class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50">
                        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
                    </button>
                    <button type="button" onclick="printPurchaseOrder()" class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600">
                        <i class="fas fa-print mr-2"></i>‡∏õ‡∏£‡∏¥‡πâ‡∏ô‡∏ó‡πå
                    </button>
                    <button type="button" onclick="saveDraft()" class="px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600">
                        ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡πà‡∏≤‡∏á
                    </button>
                    <button type="submit" class="px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600">
                        ‡∏™‡πà‡∏á‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="print-functions.js"></script>
    <script>
        // Global variables
        let selectedSupplier = null;
        let cart = [];
        let suppliers = {
            supplier1: {
                id: 'supplier1',
                name: '‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥ ‡∏à‡∏≥‡∏Å‡∏±‡∏î',
                phone: '02-123-4567',
                email: 'info@goldenfruit.co.th',
                address: '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£',
                products: [
                    { id: 'p1', name: '‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á Premium', price: 1800, unit: 'kg', category: 'mango', minOrder: 5 },
                    { id: 'p2', name: '‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á', price: 1500, unit: 'kg', category: 'pineapple', minOrder: 10 },
                    { id: 'p3', name: '‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á', price: 1400, unit: 'kg', category: 'banana', minOrder: 5 },
                    { id: 'p4', name: '‡∏•‡∏≥‡πÑ‡∏¢‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á', price: 2200, unit: 'kg', category: 'longan', minOrder: 3 },
                    { id: 'p5', name: '‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏£‡∏ß‡∏° Premium', price: 1900, unit: 'kg', category: 'mixed', minOrder: 5 }
                ]
            },
            supplier2: {
                id: 'supplier2',
                name: '‡πÄ‡∏ô‡πÄ‡∏à‡∏≠‡∏£‡∏±‡∏• ‡∏ü‡∏£‡∏∏‡πä‡∏ï ‡πÄ‡∏ã‡πá‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå',
                phone: '02-234-5678',
                email: 'sales@naturalfruit.com',
                address: '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà',
                products: [
                    { id: 'p6', name: '‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Ñ', price: 2000, unit: 'kg', category: 'mango', minOrder: 3 },
                    { id: 'p7', name: '‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Ñ', price: 1700, unit: 'kg', category: 'pineapple', minOrder: 5 },
                    { id: 'p8', name: '‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏´‡∏≠‡∏°‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á', price: 1600, unit: 'kg', category: 'banana', minOrder: 5 },
                    { id: 'p9', name: '‡∏°‡∏∞‡∏•‡∏∞‡∏Å‡∏≠‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á', price: 1300, unit: 'kg', category: 'papaya', minOrder: 10 }
                ]
            },
            supplier3: {
                id: 'supplier3',
                name: '‡∏î‡∏≠‡∏¢‡∏ú‡∏•‡πÑ‡∏°‡πâ ‡πÄ‡∏ó‡∏£‡∏î‡∏î‡∏¥‡πâ‡∏á',
                phone: '053-345-6789',
                email: 'contact@doifruit.co.th',
                address: '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢',
                products: [
                    { id: 'p10', name: '‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏ô‡πâ‡∏≥‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á', price: 2500, unit: 'kg', category: 'mango', minOrder: 2 },
                    { id: 'p11', name: '‡∏•‡∏¥‡πâ‡∏ô‡∏à‡∏µ‡πà‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á', price: 2800, unit: 'kg', category: 'lychee', minOrder: 2 },
                    { id: 'p12', name: '‡∏•‡∏≠‡∏á‡∏Å‡∏≠‡∏á‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á', price: 2600, unit: 'kg', category: 'longan', minOrder: 3 }
                ]
            }
        };

        // Functions
        function selectSupplier(supplierId) {
            selectedSupplier = suppliers[supplierId];
            document.getElementById('selectedSupplierName').textContent = selectedSupplier.name;
            document.getElementById('productsSection').classList.remove('hidden');
            loadProducts();
            
            // Scroll to products section
            document.getElementById('productsSection').scrollIntoView({ behavior: 'smooth' });
        }

        function backToSuppliers() {
            document.getElementById('productsSection').classList.add('hidden');
            selectedSupplier = null;
        }

        function loadProducts() {
            const productsGrid = document.getElementById('productsGrid');
            productsGrid.innerHTML = '';

            selectedSupplier.products.forEach(product => {
                const productCard = createProductCard(product);
                productsGrid.appendChild(productCard);
            });
        }

        function createProductCard(product) {
            const div = document.createElement('div');
            div.className = 'product-item bg-white rounded-lg shadow-md p-6 border hover:border-orange-300';
            div.innerHTML = `
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="font-bold text-gray-800 mb-1">${product.name}</h3>
                        <p class="text-sm text-gray-600">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥: ${product.minOrder} ${product.unit}</p>
                    </div>
                    <div class="text-right">
                        <div class="text-lg font-bold text-orange-600">‡∏ø${product.price.toLocaleString()}</div>
                        <div class="text-sm text-gray-600">‡∏ï‡πà‡∏≠ ${product.unit}</div>
                    </div>
                </div>
                
                <div class="flex items-center space-x-2 mb-4">
                    <input type="number" id="qty_${product.id}" min="${product.minOrder}" value="${product.minOrder}" 
                           class="w-20 px-2 py-1 border border-gray-300 rounded text-center">
                    <span class="text-sm text-gray-600">${product.unit}</span>
                </div>
                
                <button onclick="addToCart('${product.id}')" 
                        class="w-full bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition">
                    <i class="fas fa-cart-plus mr-2"></i>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                </button>
            `;
            return div;
        }

        function addToCart(productId) {
            const product = selectedSupplier.products.find(p => p.id === productId);
            const quantity = parseInt(document.getElementById(`qty_${productId}`).value);
            
            if (quantity < product.minOrder) {
                alert(`‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥: ${product.minOrder} ${product.unit}`);
                return;
            }

            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    id: productId,
                    name: product.name,
                    price: product.price,
                    unit: product.unit,
                    quantity: quantity,
                    supplier: selectedSupplier.name
                });
            }

            updateCartDisplay();
            updateCartCount();
        }

        function updateCartDisplay() {
            const cartItems = document.getElementById('cartItems');
            cartItems.innerHTML = '';

            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="text-center text-gray-500 py-8">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á</div>';
                return;
            }

            cart.forEach((item, index) => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item rounded-lg p-4 mb-3';
                cartItem.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-medium text-gray-800">${item.name}</h4>
                        <button onclick="removeFromCart(${index})" class="text-red-500 hover:text-red-700">
                            <i class="fas fa-trash text-sm"></i>
                        </button>
                    </div>
                    <div class="text-sm text-gray-600 mb-2">${item.supplier}</div>
                    <div class="flex justify-between items-center">
                        <div class="flex items-center space-x-2">
                            <input type="number" value="${item.quantity}" min="1" 
                                   onchange="updateCartItemQuantity(${index}, this.value)"
                                   class="w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm">
                            <span class="text-sm text-gray-600">${item.unit}</span>
                        </div>
                        <div class="text-right">
                            <div class="font-bold text-orange-600">‡∏ø${(item.price * item.quantity).toLocaleString()}</div>
                            <div class="text-xs text-gray-500">‡∏ø${item.price.toLocaleString()}/${item.unit}</div>
                        </div>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });

            updateCartTotal();
        }

        function updateCartItemQuantity(index, newQuantity) {
            cart[index].quantity = parseInt(newQuantity);
            updateCartDisplay();
            updateCartCount();
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartDisplay();
            updateCartCount();
        }

        function updateCartCount() {
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = count;
        }

        function updateCartTotal() {
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            document.getElementById('cartTotal').textContent = '‡∏ø' + total.toLocaleString();
        }

        function toggleCart() {
            const sidebar = document.getElementById('cartSidebar');
            sidebar.classList.toggle('translate-x-full');
        }

        function createPurchaseOrder() {
            if (cart.length === 0) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠');
                return;
            }

            // Generate PO number
            const poNumber = 'PO' + new Date().getFullYear() + String(new Date().getMonth() + 1).padStart(2, '0') + 
                           String(new Date().getDate()).padStart(2, '0') + String(Math.floor(Math.random() * 1000)).padStart(3, '0');
            
            document.getElementById('poNumber').value = poNumber;
            document.getElementById('orderDate').value = new Date().toISOString().split('T')[0];
            
            // Set delivery date to 7 days from now
            const deliveryDate = new Date();
            deliveryDate.setDate(deliveryDate.getDate() + 7);
            document.getElementById('deliveryDate').value = deliveryDate.toISOString().split('T')[0];

            populateOrderItems();
            document.getElementById('purchaseOrderModal').classList.add('active');
            toggleCart(); // Close cart
        }

        function populateOrderItems() {
            const tableBody = document.getElementById('orderItemsTable');
            tableBody.innerHTML = '';

            let subtotal = 0;

            cart.forEach(item => {
                const row = document.createElement('tr');
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;

                row.innerHTML = `
                    <td class="border border-gray-300 px-4 py-2">${item.name}</td>
                    <td class="border border-gray-300 px-4 py-2 text-center">${item.quantity}</td>
                    <td class="border border-gray-300 px-4 py-2 text-center">${item.unit}</td>
                    <td class="border border-gray-300 px-4 py-2 text-right">‡∏ø${item.price.toLocaleString()}</td>
                    <td class="border border-gray-300 px-4 py-2 text-right">‡∏ø${itemTotal.toLocaleString()}</td>
                `;
                tableBody.appendChild(row);
            });

            const vat = subtotal * 0.07;
            const grandTotal = subtotal + vat;

            document.getElementById('subtotal').textContent = '‡∏ø' + subtotal.toLocaleString();
            document.getElementById('vat').textContent = '‡∏ø' + Math.round(vat).toLocaleString();
            document.getElementById('grandTotal').textContent = '‡∏ø' + Math.round(grandTotal).toLocaleString();
        }

        function closePurchaseOrderModal() {
            document.getElementById('purchaseOrderModal').classList.remove('active');
        }

        function saveDraft() {
            alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡πà‡∏≤‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
            // Implementation for saving draft
        }

        function viewPurchaseHistory() {
            alert('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤');
            // Implementation for purchase history
        }

        // Form submission
        document.getElementById('purchaseOrderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                poNumber: document.getElementById('poNumber').value,
                orderDate: document.getElementById('orderDate').value,
                deliveryDate: document.getElementById('deliveryDate').value,
                buyerName: document.getElementById('buyerName').value,
                notes: document.getElementById('notes').value,
                supplier: selectedSupplier,
                items: cart,
                subtotal: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0),
                vat: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0) * 0.07,
                grandTotal: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0) * 1.07
            };

            // Send to API
            fetch('/api/purchase-orders', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(formData)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('‡∏™‡πà‡∏á‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß\n‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà: ' + formData.poNumber);
                    closePurchaseOrderModal();
                    cart = [];
                    updateCartDisplay();
                    updateCartCount();
                } else {
                    alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + data.message);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠');
            });
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateCartDisplay();
            updateCartCount();
        });
    </script>
</body>
</html>   
     // Print Purchase Order function
        function printPurchaseOrder() {
            const printContent = generatePurchaseOrderPrintContent();
            const printWindow = window.open('', '_blank');
            printWindow.document.write(printContent);
            printWindow.document.close();
            printWindow.print();
        }

        function generatePurchaseOrderPrintContent() {
            const poNumber = document.getElementById('poNumber').value;
            const orderDate = document.getElementById('orderDate').value;
            const deliveryDate = document.getElementById('deliveryDate').value;
            const buyerName = document.getElementById('buyerName').value;
            const notes = document.getElementById('notes').value;
            
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const vat = subtotal * 0.07;
            const grandTotal = subtotal + vat;

            let itemsHTML = '';
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                itemsHTML += `
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 8px;">${item.name}</td>
                        <td style="border: 1px solid #ddd; padding: 8px; text-align: center;">${item.quantity}</td>
                        <td style="border: 1px solid #ddd; padding: 8px; text-align: center;">${item.unit}</td>
                        <td style="border: 1px solid #ddd; padding: 8px; text-align: right;">‡∏ø${item.price.toLocaleString()}</td>
                        <td style="border: 1px solid #ddd; padding: 8px; text-align: right;">‡∏ø${itemTotal.toLocaleString()}</td>
                    </tr>
                `;
            });

            return `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <title>‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ ${poNumber}</title>
                    <style>
                        body { font-family: 'Sarabun', Arial, sans-serif; margin: 20px; }
                        .header { text-align: center; margin-bottom: 30px; }
                        .company-info { margin-bottom: 20px; }
                        .po-info { display: flex; justify-content: space-between; margin-bottom: 20px; }
                        .supplier-info { margin-bottom: 20px; }
                        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
                        th, td { border: 1px solid #ddd; padding: 8px; }
                        th { background-color: #f5f5f5; }
                        .total-section { margin-top: 20px; }
                        .signature-section { margin-top: 40px; display: flex; justify-content: space-between; }
                        .signature-box { text-align: center; width: 200px; }
                        @media print {
                            body { margin: 0; }
                            .no-print { display: none; }
                        }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ (Purchase Order)</h1>
                        <h2>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á</h2>
                    </div>

                    <div class="company-info">
                        <strong>‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á ‡∏à‡∏≥‡∏Å‡∏±‡∏î</strong><br>
                        123 ‡∏ñ‡∏ô‡∏ô‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó ‡πÅ‡∏Ç‡∏ß‡∏á‡∏Ñ‡∏•‡∏≠‡∏á‡∏ï‡∏±‡∏ô ‡πÄ‡∏Ç‡∏ï‡∏Ñ‡∏•‡∏≠‡∏á‡∏ï‡∏±‡∏ô ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 10110<br>
                        ‡πÇ‡∏ó‡∏£: 02-123-4567 | ‡∏≠‡∏µ‡πÄ‡∏°‡∏•: info@driedfruit.co.th
                    </div>

                    <div class="po-info">
                        <div>
                            <strong>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÉ‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠:</strong> ${poNumber}<br>
                            <strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠:</strong> ${new Date(orderDate).toLocaleDateString('th-TH')}<br>
                            <strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:</strong> ${new Date(deliveryDate).toLocaleDateString('th-TH')}
                        </div>
                        <div>
                            <strong>‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠:</strong> ${buyerName}<br>
                            <strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏¥‡∏°‡∏û‡πå:</strong> ${new Date().toLocaleDateString('th-TH')}<br>
                            <strong>‡πÄ‡∏ß‡∏•‡∏≤:</strong> ${new Date().toLocaleTimeString('th-TH')}
                        </div>
                    </div>

                    <div class="supplier-info">
                        <strong>‡∏ã‡∏±‡∏û‡∏û‡∏•‡∏≤‡∏¢‡πÄ‡∏≠‡∏≠‡∏£‡πå:</strong><br>
                        ${selectedSupplier.name}<br>
                        ‡πÇ‡∏ó‡∏£: ${selectedSupplier.phone}<br>
                        ‡∏≠‡∏µ‡πÄ‡∏°‡∏•: ${selectedSupplier.email}<br>
                        ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà: ${selectedSupplier.address}
                    </div>

                    <table>
                        <thead>
                            <tr>
                                <th>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                                <th>‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
                                <th>‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
                                <th>‡∏£‡∏ß‡∏°</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${itemsHTML}
                        </tbody>
                    </table>

                    <div class="total-section">
                        <table style="width: 300px; margin-left: auto;">
                            <tr>
                                <td style="text-align: right; padding: 5px;"><strong>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:</strong></td>
                                <td style="text-align: right; padding: 5px;">‡∏ø${subtotal.toLocaleString()}</td>
                            </tr>
                            <tr>
                                <td style="text-align: right; padding: 5px;"><strong>‡∏†‡∏≤‡∏©‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° (7%):</strong></td>
                                <td style="text-align: right; padding: 5px;">‡∏ø${Math.round(vat).toLocaleString()}</td>
                            </tr>
                            <tr style="background-color: #f5f5f5;">
                                <td style="text-align: right; padding: 5px;"><strong>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô:</strong></td>
                                <td style="text-align: right; padding: 5px;"><strong>‡∏ø${Math.round(grandTotal).toLocaleString()}</strong></td>
                            </tr>
                        </table>
                    </div>

                    ${notes ? `<div style="margin-top: 20px;"><strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</strong><br>${notes}</div>` : ''}

                    <div class="signature-section">
                        <div class="signature-box">
                            <div style="border-bottom: 1px solid #000; margin-bottom: 5px; height: 50px;"></div>
                            <div>‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</div>
                            <div>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: _______________</div>
                        </div>
                        <div class="signature-box">
                            <div style="border-bottom: 1px solid #000; margin-bottom: 5px; height: 50px;"></div>
                            <div>‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</div>
                            <div>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: _______________</div>
                        </div>
                        <div class="signature-box">
                            <div style="border-bottom: 1px solid #000; margin-bottom: 5px; height: 50px;"></div>
                            <div>‡∏ã‡∏±‡∏û‡∏û‡∏•‡∏≤‡∏¢‡πÄ‡∏≠‡∏≠‡∏£‡πå‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏≤‡∏ö</div>
                            <div>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: _______________</div>
                        </div>
                    </div>

                    <div style="margin-top: 30px; text-align: center; font-size: 12px; color: #666;">
                        *** ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÇ‡∏î‡∏¢‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á ***
                    </div>
                </body>
                </html>
            `;
        }