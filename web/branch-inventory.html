<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≤‡∏Ç‡∏≤ - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü•≠</text></svg>">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-gold: #FFD700;
            --primary-orange: #FFA500;
            --primary-deep-orange: #FF8C00;
            --bg-cream: #FFF8DC;
            --bg-light-yellow: #FFFACD;
            --bg-warm-white: #FEFEF7;
            --text-dark: #2C1810;
            --text-brown: #8B4513;
            --success-green: #32CD32;
            --warning-amber: #FFBF00;
            --danger-red: #FF6B6B;
            --shadow-warm: rgba(255, 165, 0, 0.15);
            --shadow-soft: rgba(0, 0, 0, 0.08);
        }

        body {
            font-family: 'Prompt', sans-serif;
            background: linear-gradient(135deg, var(--bg-cream) 0%, var(--bg-light-yellow) 100%);
            color: var(--text-dark);
            min-height: 100vh;
        }

        .navbar {
            background: linear-gradient(135deg, var(--primary-gold) 0%, var(--primary-orange) 100%);
            padding: 1rem 0;
            box-shadow: 0 4px 20px var(--shadow-warm);
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--text-dark) !important;
        }

        .inventory-container {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 248, 220, 0.8) 100%);
            border-radius: 20px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 5px 15px var(--shadow-soft);
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .branch-selector {
            background: white;
            border-radius: 15px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 3px 10px var(--shadow-soft);
            border: 2px solid var(--primary-orange);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 3px 10px var(--shadow-soft);
            border: 1px solid rgba(255, 215, 0, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-orange) 0%, var(--primary-gold) 100%);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px var(--shadow-soft);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-brown);
            font-weight: 500;
            font-size: 0.875rem;
        }

        .inventory-table {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px var(--shadow-soft);
        }

        .table th {
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-deep-orange) 100%);
            color: white;
            font-weight: 600;
            border: none;
            padding: 1rem;
        }

        .table td {
            padding: 1rem;
            vertical-align: middle;
            border: none;
            border-bottom: 1px solid #f0f0f0;
        }

        .stock-level {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.875rem;
            display: inline-flex;
            align-items: center;
        }

        .stock-high {
            background: rgba(50, 205, 50, 0.2);
            color: var(--success-green);
        }

        .stock-medium {
            background: rgba(255, 191, 0, 0.2);
            color: var(--warning-amber);
        }

        .stock-low {
            background: rgba(255, 107, 107, 0.2);
            color: var(--danger-red);
        }

        .stock-out {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
        }

        .action-btn {
            background: transparent;
            border: 2px solid var(--primary-orange);
            color: var(--primary-orange);
            border-radius: 8px;
            padding: 0.5rem;
            margin: 0.25rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .action-btn:hover {
            background: var(--primary-orange);
            color: white;
            transform: translateY(-2px);
        }

        .transfer-modal .modal-content {
            border-radius: 20px;
            border: none;
            box-shadow: 0 10px 30px var(--shadow-soft);
        }

        .transfer-modal .modal-header {
            background: linear-gradient(135deg, var(--primary-gold) 0%, var(--primary-orange) 100%);
            border-radius: 20px 20px 0 0;
            border-bottom: none;
        }

        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 3px 10px var(--shadow-soft);
            margin-bottom: 1.5rem;
        }

        .reorder-alert {
            background: linear-gradient(135deg, rgba(255, 191, 0, 0.1) 0%, rgba(255, 191, 0, 0.05) 100%);
            border: 2px solid var(--warning-amber);
            border-radius: 15px;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }

        .movement-log {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 3px 10px var(--shadow-soft);
            max-height: 400px;
            overflow-y: auto;
        }

        .movement-item {
            display: flex;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid #eee;
        }

        .movement-item:last-child {
            border-bottom: none;
        }

        .movement-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-weight: 600;
        }

        .movement-in {
            background: rgba(50, 205, 50, 0.2);
            color: var(--success-green);
        }

        .movement-out {
            background: rgba(255, 107, 107, 0.2);
            color: var(--danger-red);
        }

        .movement-transfer {
            background: rgba(255, 165, 0, 0.2);
            color: var(--primary-orange);
        }

        .quick-actions {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .quick-action-btn {
            background: linear-gradient(135deg, var(--primary-orange) 0%, var(--primary-deep-orange) 100%);
            border: none;
            color: white;
            border-radius: 10px;
            padding: 0.75rem 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quick-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 140, 0, 0.4);
        }

        .low-stock-indicator {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 20px;
            height: 20px;
            background: var(--danger-red);
            border-radius: 50%;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .transfer-form {
            background: var(--bg-light-yellow);
            border-radius: 10px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--success-green) 0%, var(--warning-amber) 50%, var(--danger-red) 100%);
            height: 8px;
            border-radius: 4px;
            margin-top: 0.5rem;
        }

        .form-control, .form-select {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 0.75rem;
            transition: all 0.3s ease;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary-orange);
            box-shadow: 0 0 0 0.2rem rgba(255, 165, 0, 0.25);
        }

        .branch-status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .status-online {
            background: var(--success-green);
        }

        .status-offline {
            background: var(--danger-red);
        }

        .status-sync {
            background: var(--warning-amber);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="/branch-management">
                <i class="fas fa-arrow-left me-2"></i>‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏™‡∏≤‡∏Ç‡∏≤
            </a>
            <div class="d-flex align-items-center">
                <button class="btn btn-outline-light me-2" onclick="syncAllBranches()">
                    <i class="fas fa-sync-alt me-1"></i>‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏ó‡∏∏‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤
                </button>
                <button class="btn btn-outline-light" onclick="generateReport()">
                    <i class="fas fa-file-export me-1"></i>‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mt-3">
        <!-- Branch Selector -->
        <div class="branch-selector">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <label class="form-label fw-bold">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤:</label>
                    <select class="form-select" id="branchSelector" onchange="loadBranchInventory()">
                        <option value="all">‡∏ó‡∏∏‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤ (‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°)</option>
                        <option value="BR-001">BR-001 - ‡∏™‡∏≤‡∏Ç‡∏≤‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏•‡∏õ‡∏¥‡πà‡∏ô‡πÄ‡∏Å‡∏•‡πâ‡∏≤</option>
                        <option value="BR-002">BR-002 - ‡∏™‡∏≤‡∏Ç‡∏≤‡πÄ‡∏ã‡∏µ‡∏¢‡∏£‡πå‡∏£‡∏±‡∏á‡∏™‡∏¥‡∏ï</option>
                        <option value="BR-003">BR-003 - ‡∏™‡∏≤‡∏Ç‡∏≤‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏ô‡∏¥‡∏°‡∏°‡∏≤‡∏ô</option>
                        <option value="BR-004">BR-004 - ‡∏™‡∏≤‡∏Ç‡∏≤‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï ‡∏õ‡πà‡∏≤‡∏ï‡∏≠‡∏á</option>
                        <option value="BR-005">BR-005 - ‡∏™‡∏≤‡∏Ç‡∏≤‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô ‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏•</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <div class="d-flex align-items-center justify-content-end gap-3">
                        <div class="branch-status-indicator">
                            <span class="status-dot status-online" id="branchStatusDot"></span>
                            <span id="branchStatusText">‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</span>
                        </div>
                        <small class="text-muted">
                            ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: <span id="lastSync">2 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</span>
                        </small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Statistics -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value text-primary" id="totalProducts">25</div>
                <div class="stat-label">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div>
            </div>
            <div class="stat-card">
                <div class="stat-value text-success" id="totalValue">‡∏ø485,600</div>
                <div class="stat-label">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏™‡∏ï‡πä‡∏≠‡∏Ñ</div>
            </div>
            <div class="stat-card">
                <div class="stat-value text-warning" id="lowStockItems">8</div>
                <div class="stat-label">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î</div>
                <div class="low-stock-indicator" id="lowStockAlert"></div>
            </div>
            <div class="stat-card">
                <div class="stat-value text-danger" id="outOfStockItems">2</div>
                <div class="stat-label">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏°‡∏î‡∏™‡∏ï‡πä‡∏≠‡∏Ñ</div>
            </div>
            <div class="stat-card">
                <div class="stat-value text-info" id="turnoverRate">4.2</div>
                <div class="stat-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏´‡∏°‡∏∏‡∏ô‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</div>
            </div>
        </div>

        <!-- Reorder Alerts -->
        <div class="reorder-alert">
            <h6 class="mb-2">
                <i class="fas fa-exclamation-triangle me-2"></i>
                <strong>‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏ï‡πà‡∏≥</strong>
            </h6>
            <div id="reorderAlerts">
                <div class="d-flex justify-content-between align-items-center mb-1">
                    <span>‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á Premium (BR-001)</span>
                    <div>
                        <span class="badge bg-danger">‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 2.5 kg</span>
                        <button class="btn btn-sm btn-warning ms-2" onclick="quickReorder('DF-MANGO-001', 'BR-001')">
                            <i class="fas fa-shopping-cart me-1"></i>‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏î‡πà‡∏ß‡∏ô
                        </button>
                    </div>
                </div>
                <div class="d-flex justify-content-between align-items-center mb-1">
                    <span>‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á (BR-003)</span>
                    <div>
                        <span class="badge bg-warning">‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 5.2 kg</span>
                        <button class="btn btn-sm btn-info ms-2" onclick="transferStock('DF-PINE-001', 'BR-003')">
                            <i class="fas fa-exchange-alt me-1"></i>‡πÇ‡∏≠‡∏ô‡∏™‡∏ï‡πä‡∏≠‡∏Ñ
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <button class="quick-action-btn" onclick="showStockTransfer()">
                <i class="fas fa-exchange-alt"></i>‡πÇ‡∏≠‡∏ô‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏≤‡∏Ç‡∏≤
            </button>
            <button class="quick-action-btn" onclick="showStockAdjustment()">
                <i class="fas fa-edit"></i>‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏™‡∏ï‡πä‡∏≠‡∏Ñ
            </button>
            <button class="quick-action-btn" onclick="showBulkReorder()">
                <i class="fas fa-cart-plus"></i>‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
            </button>
            <button class="quick-action-btn" onclick="showStockCount()">
                <i class="fas fa-clipboard-check"></i>‡∏ô‡∏±‡∏ö‡∏™‡∏ï‡πä‡∏≠‡∏Ñ
            </button>
        </div>

        <!-- Main Content Area -->
        <div class="row">
            <div class="col-lg-8">
                <!-- Inventory Table -->
                <div class="inventory-table">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead>
                                <tr>
                                    <th>‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                                    <th>‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</th>
                                    <th>‡∏à‡∏∏‡∏î‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</th>
                                    <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                    <th>‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤</th>
                                    <th>‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="inventoryTableBody">
                                <!-- Inventory items will be dynamically loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <!-- Stock Movement Chart -->
                <div class="chart-container">
                    <h6 class="mb-3">
                        <i class="fas fa-chart-line me-2"></i>‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏™‡∏ï‡πä‡∏≠‡∏Ñ (7 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß)
                    </h6>
                    <canvas id="stockMovementChart" height="200"></canvas>
                </div>

                <!-- Recent Movements Log -->
                <div class="movement-log">
                    <h6 class="mb-3">
                        <i class="fas fa-history me-2"></i>‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
                    </h6>
                    <div id="movementsList">
                        <div class="movement-item">
                            <div class="movement-icon movement-in">
                                <i class="fas fa-arrow-down"></i>
                            </div>
                            <div class="flex-grow-1">
                                <div class="fw-bold">‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤</div>
                                <div class="text-muted small">‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á +20 kg</div>
                                <div class="text-muted small">2 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
                            </div>
                        </div>
                        <div class="movement-item">
                            <div class="movement-icon movement-out">
                                <i class="fas fa-arrow-up"></i>
                            </div>
                            <div class="flex-grow-1">
                                <div class="fw-bold">‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div>
                                <div class="text-muted small">‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á -5.5 kg</div>
                                <div class="text-muted small">4 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
                            </div>
                        </div>
                        <div class="movement-item">
                            <div class="movement-icon movement-transfer">
                                <i class="fas fa-exchange-alt"></i>
                            </div>
                            <div class="flex-grow-1">
                                <div class="fw-bold">‡πÇ‡∏≠‡∏ô‡∏™‡∏ï‡πä‡∏≠‡∏Ñ</div>
                                <div class="text-muted small">‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á 10 kg ‚Üí BR-002</div>
                                <div class="text-muted small">6 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
                            </div>
                        </div>
                        <div class="movement-item">
                            <div class="movement-icon movement-in">
                                <i class="fas fa-arrow-down"></i>
                            </div>
                            <div class="flex-grow-1">
                                <div class="fw-bold">‡∏£‡∏±‡∏ö‡πÇ‡∏≠‡∏ô‡∏™‡∏ï‡πä‡∏≠‡∏Ñ</div>
                                <div class="text-muted small">‡∏•‡∏≥‡πÑ‡∏¢‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á +8 kg ‡∏à‡∏≤‡∏Å BR-001</div>
                                <div class="text-muted small">8 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Stock Transfer Modal -->
    <div class="modal fade transfer-modal" id="stockTransferModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-dark">
                        <i class="fas fa-exchange-alt me-2"></i>‡πÇ‡∏≠‡∏ô‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏≤‡∏Ç‡∏≤
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="stockTransferForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">‡∏™‡∏≤‡∏Ç‡∏≤‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á</label>
                                <select class="form-select" id="sourceBranch" required>
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤‡∏ï‡πâ‡∏ô‡∏ó‡∏≤‡∏á</option>
                                    <option value="BR-001">BR-001 - ‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏•‡∏õ‡∏¥‡πà‡∏ô‡πÄ‡∏Å‡∏•‡πâ‡∏≤</option>
                                    <option value="BR-002">BR-002 - ‡πÄ‡∏ã‡∏µ‡∏¢‡∏£‡πå‡∏£‡∏±‡∏á‡∏™‡∏¥‡∏ï</option>
                                    <option value="BR-003">BR-003 - ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏ô‡∏¥‡∏°‡∏°‡∏≤‡∏ô</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">‡∏™‡∏≤‡∏Ç‡∏≤‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á</label>
                                <select class="form-select" id="destinationBranch" required>
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á</option>
                                    <option value="BR-001">BR-001 - ‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏•‡∏õ‡∏¥‡πà‡∏ô‡πÄ‡∏Å‡∏•‡πâ‡∏≤</option>
                                    <option value="BR-002">BR-002 - ‡πÄ‡∏ã‡∏µ‡∏¢‡∏£‡πå‡∏£‡∏±‡∏á‡∏™‡∏¥‡∏ï</option>
                                    <option value="BR-003">BR-003 - ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏ô‡∏¥‡∏°‡∏°‡∏≤‡∏ô</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                                <select class="form-select" id="transferProduct" required>
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</option>
                                    <option value="DF-MANGO-001">‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á Premium</option>
                                    <option value="DF-PINE-001">‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á</option>
                                    <option value="DF-BANANA-001">‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏≠‡∏ô (kg)</label>
                                <input type="number" class="form-control" id="transferQuantity" min="0.1" step="0.1" required>
                                <small class="text-muted">‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <span id="availableStock">-- kg</span></small>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
                            <textarea class="form-control" id="transferNotes" rows="3" 
                                placeholder="‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡∏™‡∏ï‡πä‡∏≠‡∏Ñ..."></textarea>
                        </div>
                        <div class="transfer-form">
                            <h6>‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô</h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <strong>‡∏à‡∏≤‡∏Å:</strong> <span id="transferFromSummary">-</span><br>
                                    <strong>‡πÑ‡∏õ:</strong> <span id="transferToSummary">-</span>
                                </div>
                                <div class="col-md-6">
                                    <strong>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤:</strong> <span id="transferProductSummary">-</span><br>
                                    <strong>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô:</strong> <span id="transferQuantitySummary">-</span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="button" class="btn btn-primary" onclick="executeStockTransfer()">
                        <i class="fas fa-check me-1"></i>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let currentBranch = 'all';
        let inventoryData = [];
        let stockChart;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadBranchInventory();
            initStockChart();
            
            // Auto refresh every 30 seconds
            setInterval(() => {
                if (currentBranch !== 'all') {
                    updateBranchStatus();
                }
            }, 30000);
        });

        // Load branch inventory
        async function loadBranchInventory() {
            const branchId = document.getElementById('branchSelector').value;
            currentBranch = branchId;

            try {
                // In real implementation, fetch from API
                // const response = await fetch(`/api/branches/${branchId}/inventory`);
                // const data = await response.json();

                // Mock data
                inventoryData = generateMockInventoryData(branchId);
                
                displayInventoryTable(inventoryData);
                updateStatistics(inventoryData);
                updateBranchStatus();
                updateStockChart();
                
            } catch (error) {
                console.error('Error loading inventory:', error);
            }
        }

        // Generate mock inventory data
        function generateMockInventoryData(branchId) {
            const products = [
                { id: 'DF-MANGO-001', name: '‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á Premium', unit: 'kg', price: 2400 },
                { id: 'DF-PINE-001', name: '‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á', unit: 'kg', price: 2100 },
                { id: 'DF-BANANA-001', name: '‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á', unit: 'kg', price: 1800 },
                { id: 'DF-LONGAN-001', name: '‡∏•‡∏≥‡πÑ‡∏¢‡∏≠‡∏ö‡πÅ‡∏´‡πâ‡∏á', unit: 'kg', price: 2600 },
                { id: 'DF-MIXED-001', name: '‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏£‡∏ß‡∏° Premium', unit: 'kg', price: 2200 }
            ];

            return products.map(product => {
                const stock = Math.random() * 50;
                const reorderPoint = 10 + Math.random() * 10;
                
                return {
                    ...product,
                    currentStock: stock,
                    reorderPoint: reorderPoint,
                    status: stock <= 0 ? 'out' : 
                           stock <= reorderPoint * 0.5 ? 'low' :
                           stock <= reorderPoint ? 'medium' : 'high',
                    value: stock * product.price,
                    lastMovement: new Date(Date.now() - Math.random() * 7 * 24 * 60 * 60 * 1000)
                };
            });
        }

        // Display inventory table
        function displayInventoryTable(inventory) {
            const tbody = document.getElementById('inventoryTableBody');
            tbody.innerHTML = '';

            inventory.forEach(item => {
                const statusClass = `stock-${item.status}`;
                const statusText = item.status === 'out' ? '‡∏´‡∏°‡∏î‡∏™‡∏ï‡πä‡∏≠‡∏Ñ' :
                                  item.status === 'low' ? '‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏ï‡πà‡∏≥' :
                                  item.status === 'medium' ? '‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î' : '‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏î‡∏µ';

                const stockWidth = Math.min(100, (item.currentStock / item.reorderPoint) * 100);

                const row = `
                    <tr>
                        <td><strong>${item.id}</strong></td>
                        <td>${item.name}</td>
                        <td>
                            <div class="d-flex align-items-center">
                                <span class="me-2">${item.currentStock.toFixed(1)} ${item.unit}</span>
                                <div class="progress" style="width: 60px; height: 6px;">
                                    <div class="progress-bar bg-${item.status === 'high' ? 'success' : item.status === 'medium' ? 'warning' : 'danger'}" 
                                        style="width: ${stockWidth}%"></div>
                                </div>
                            </div>
                        </td>
                        <td>${item.reorderPoint.toFixed(1)} ${item.unit}</td>
                        <td><span class="stock-level ${statusClass}">${statusText}</span></td>
                        <td>‡∏ø${item.value.toLocaleString()}</td>
                        <td>
                            <button class="action-btn" onclick="viewStockDetails('${item.id}')" title="‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn" onclick="adjustStock('${item.id}')" title="‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏ï‡πä‡∏≠‡∏Ñ">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn" onclick="transferStock('${item.id}')" title="‡πÇ‡∏≠‡∏ô‡∏™‡∏ï‡πä‡∏≠‡∏Ñ">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                            ${item.status === 'low' || item.status === 'out' ? 
                            `<button class="action-btn text-warning" onclick="quickReorder('${item.id}')" title="‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏î‡πà‡∏ß‡∏ô">
                                <i class="fas fa-shopping-cart"></i>
                            </button>` : ''}
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // Update statistics
        function updateStatistics(inventory) {
            const totalProducts = inventory.length;
            const totalValue = inventory.reduce((sum, item) => sum + item.value, 0);
            const lowStockItems = inventory.filter(item => item.status === 'low' || item.status === 'medium').length;
            const outOfStockItems = inventory.filter(item => item.status === 'out').length;
            const turnoverRate = 4.2; // Mock calculation

            document.getElementById('totalProducts').textContent = totalProducts;
            document.getElementById('totalValue').textContent = `‡∏ø${totalValue.toLocaleString()}`;
            document.getElementById('lowStockItems').textContent = lowStockItems;
            document.getElementById('outOfStockItems').textContent = outOfStockItems;
            document.getElementById('turnoverRate').textContent = turnoverRate.toFixed(1);

            // Show/hide low stock alert
            document.getElementById('lowStockAlert').style.display = lowStockItems > 0 ? 'block' : 'none';
        }

        // Initialize stock movement chart
        function initStockChart() {
            const ctx = document.getElementById('stockMovementChart').getContext('2d');
            
            stockChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå', '‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£', '‡∏ß‡∏±‡∏ô‡∏û‡∏∏‡∏ò', '‡∏ß‡∏±‡∏ô‡∏û‡∏§‡∏´‡∏±‡∏™', '‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå', '‡∏ß‡∏±‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå', '‡∏ß‡∏±‡∏ô‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå'],
                    datasets: [{
                        label: '‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤ (kg)',
                        data: [120, 85, 95, 110, 140, 75, 90],
                        borderColor: '#32CD32',
                        backgroundColor: 'rgba(50, 205, 50, 0.1)',
                        borderWidth: 2,
                        fill: true
                    }, {
                        label: '‡∏à‡πà‡∏≤‡∏¢‡∏≠‡∏≠‡∏Å (kg)',
                        data: [90, 105, 88, 125, 98, 112, 85],
                        borderColor: '#FF6B6B',
                        backgroundColor: 'rgba(255, 107, 107, 0.1)',
                        borderWidth: 2,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // Update stock chart
        function updateStockChart() {
            // In real implementation, update with actual data
            stockChart.data.datasets[0].data = Array(7).fill().map(() => Math.floor(Math.random() * 100) + 50);
            stockChart.data.datasets[1].data = Array(7).fill().map(() => Math.floor(Math.random() * 100) + 40);
            stockChart.update();
        }

        // Update branch status
        function updateBranchStatus() {
            const statusDot = document.getElementById('branchStatusDot');
            const statusText = document.getElementById('branchStatusText');
            const lastSync = document.getElementById('lastSync');

            if (currentBranch === 'all') {
                statusDot.className = 'status-dot status-sync';
                statusText.textContent = '‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏ó‡∏∏‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤';
            } else {
                // Simulate random status
                const statuses = ['online', 'sync'];
                const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];
                
                statusDot.className = `status-dot status-${randomStatus}`;
                statusText.textContent = randomStatus === 'online' ? '‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå' : '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ã‡∏¥‡∏á‡∏Ñ‡πå';
            }

            lastSync.textContent = '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏µ‡πâ‡∏ô‡∏µ‡πâ';
        }

        // Stock operations
        function showStockTransfer() {
            const modal = new bootstrap.Modal(document.getElementById('stockTransferModal'));
            modal.show();
        }

        function viewStockDetails(productId) {
            window.open(`/inventory-details?product=${productId}&branch=${currentBranch}`, '_blank');
        }

        function adjustStock(productId) {
            const newQuantity = prompt('‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡πÉ‡∏´‡∏°‡πà:');
            if (newQuantity && !isNaN(newQuantity)) {
                showNotification(`‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏ï‡πä‡∏≠‡∏Ñ ${productId} ‡πÄ‡∏õ‡πá‡∏ô ${newQuantity} kg ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢`, 'success');
                loadBranchInventory(); // Refresh
            }
        }

        function transferStock(productId, branchId = null) {
            document.getElementById('transferProduct').value = productId;
            if (branchId) {
                document.getElementById('sourceBranch').value = branchId;
            }
            showStockTransfer();
        }

        function quickReorder(productId, branchId = null) {
            const quantity = prompt('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ (kg):');
            if (quantity && !isNaN(quantity)) {
                showNotification(`‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ ${productId} ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ${quantity} kg ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢`, 'success');
            }
        }

        function executeStockTransfer() {
            const form = document.getElementById('stockTransferForm');
            const formData = new FormData(form);
            
            // Validate form
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            // In real implementation, send to API
            showNotification('‡πÇ‡∏≠‡∏ô‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß', 'success');
            
            // Close modal and refresh
            bootstrap.Modal.getInstance(document.getElementById('stockTransferModal')).hide();
            loadBranchInventory();
        }

        function syncAllBranches() {
            showNotification('‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤...', 'info');
            
            setTimeout(() => {
                showNotification('‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß', 'success');
                loadBranchInventory();
            }, 2000);
        }

        function generateReport() {
            showNotification('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô...', 'info');
            
            setTimeout(() => {
                const csvContent = generateCSVReport();
                downloadCSV(csvContent, `inventory-report-${new Date().toISOString().split('T')[0]}.csv`);
                showNotification('‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß', 'success');
            }, 1000);
        }

        function generateCSVReport() {
            const headers = ['‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤', '‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤', '‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô', '‡∏à‡∏∏‡∏î‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠', '‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞', '‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤'];
            const rows = inventoryData.map(item => [
                item.id,
                item.name,
                item.currentStock.toFixed(1),
                item.reorderPoint.toFixed(1),
                item.status,
                item.value.toFixed(2)
            ]);
            
            return [headers, ...rows].map(row => row.join(',')).join('\n');
        }

        function downloadCSV(content, filename) {
            const blob = new Blob([content], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function showNotification(message, type) {
            const alertClass = type === 'success' ? 'alert-success' : 
                             type === 'error' ? 'alert-danger' : 
                             type === 'warning' ? 'alert-warning' : 'alert-info';

            const notification = document.createElement('div');
            notification.className = `alert ${alertClass} alert-dismissible fade show position-fixed`;
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.zIndex = '9999';
            notification.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Quick actions
        function showStockAdjustment() {
            alert('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà');
        }

        function showBulkReorder() {
            alert('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà');
        }

        function showStockCount() {
            alert('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏±‡∏ö‡∏™‡∏ï‡πä‡∏≠‡∏Ñ‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà');
        }

        // Form event listeners
        document.getElementById('sourceBranch').addEventListener('change', updateTransferSummary);
        document.getElementById('destinationBranch').addEventListener('change', updateTransferSummary);
        document.getElementById('transferProduct').addEventListener('change', updateTransferSummary);
        document.getElementById('transferQuantity').addEventListener('input', updateTransferSummary);

        function updateTransferSummary() {
            const sourceBranch = document.getElementById('sourceBranch');
            const destinationBranch = document.getElementById('destinationBranch');
            const product = document.getElementById('transferProduct');
            const quantity = document.getElementById('transferQuantity').value;

            document.getElementById('transferFromSummary').textContent = 
                sourceBranch.selectedOptions[0]?.text || '-';
            document.getElementById('transferToSummary').textContent = 
                destinationBranch.selectedOptions[0]?.text || '-';
            document.getElementById('transferProductSummary').textContent = 
                product.selectedOptions[0]?.text || '-';
            document.getElementById('transferQuantitySummary').textContent = 
                quantity ? `${quantity} kg` : '-';

            // Update available stock (mock)
            if (product.value) {
                const availableStock = Math.floor(Math.random() * 50) + 10;
                document.getElementById('availableStock').textContent = `${availableStock} kg`;
            }
        }
    </script>
</body>
</html>